<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Prototype</title>
    <script>
        // prototype : java의 class와 비슷한 기능, 상속을 할 수 있도록 도와주는 것
        // prototype - prototype object & prototype link로 이루어져 있음
        // 함수와 객체 생성으로 class 따라하기
        function Person() {
            this.eyes = 2;
            this.nose = 1;
        }
        var kim = new Person();
        var park = new Person();
        console.log(kim.eyes); // => 2
        console.log(kim.nose); // => 1
        console.log(park.eyes); // => 2
        console.log(park.nose); // => 1
        // 위 코드는 kim,park 모두 eyes,nose property를 가지고 있음 -> 객체 생성시 변수가 계속 메모리에 저장
        // prototype을 이용해 간단하게 정리하기
        function Person() {}
        Person.prototype.eyes = 2;
        Person.prototype.nose = 1;
        var kim = new Person();
        var park = new Person();
        console.log(kim.eyes); // => 2
        // Person.prototype이라는 빈 Object가 어딘가에 존재하고,
        //  Person 함수로부터 생성된 객체(kim, park)들은 어딘가에 존재하는 Object에 들어있는 값을 모두 갖다쓸 수 있습니다.
        // 즉, eyes와 nose를 어딘가에 있는 빈 공간에 넣어놓고 kim과 park이 공유해서 사용하는 것
        //Prototype Object :객체는 언제나 함수(Function)로 생성됩니다.
        function Person() {} // => 함수
        var personObject = new Person(); // => 함수로 객체를 생성
       /*  var obj = {}; == var obj = new Object(); */
       // 함수가 정의될 때 일어나는 두 가지
       // 1. 해당 함수에 Constructor(생성자) 자격 부여
       // Constructor 자격이 부여되면 new를 통해 객체를 만들어 낼 수 있게 됩니다. 이것이 함수만 new 키워드를 사용할 수 있는 이유입니다.
       // 2.해당 함수의 Prototype Object 생성 및 연결
       // 함수를 정의하면 함수만 생성되는 것이 아니라 Prototype Object도 같이 생성이 됩니다.
       // function Person(){} 생성 
       // function Person(){} - constructor(생성자) &  __proto__(프로토타입 링크) 와 연결
       // Person Prototype Object - prototype와 연결 
       // Prototype Object는 일반적인 객체이므로 속성을 마음대로 추가/삭제 할 수 있습니다.
        // kim과 park은 Person 함수를 통해 생성되었으니 Person.prototype을 참조할 수 있게 됩니다.
        // Prototype Object는 최상위 객체 
        // __proto__는 객체가 생성될 때 조상이었던 함수의 Prototype Object를 가리킵니다. 
        // kim객체는 Person함수로부터 생성되었으니 Person 함수의 Prototype Object를 가리키고 있는 것이죠.
    </script>
</head>

<body>

</body>

</html>